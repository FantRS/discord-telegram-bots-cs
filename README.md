# Multi-Bot Chat Responder

This project is a C# application that runs two bots simultaneously:
- A **Discord bot** using `DSharpPlus`
- A **Telegram bot** using `Telegram.Bot`

Both bots respond to messages based on predefined conditions and generate responses using an AI-powered prompt generator (`SwearPromptGenerator`).

---

## ‚ú® Features

- Discord and Telegram bot integration
- AI-generated responses to messages containing trigger keywords or replies
- Asynchronous and concurrent bot execution
- Lightweight DI container (`DIContainer`) for managing dependencies
- Token and API key management via environment variables

---

## üìÅ Project Structure
- `EntryPoint.cs` ‚Äî App entry with initialization and DI setup
- `DiscordBot.cs` ‚Äî Handles Discord bot logic and event responses
- `TelegramBot.cs` ‚Äî Handles Telegram bot logic and updates
- `Configuration.cs` ‚Äî Static class of configuration constants for bot customization
- `DIContainer/` ‚Äî Contains DIContainer and related logic
- `PromptGenerator/` ‚Äî Contains logic for interacting with Anthropic's Claude AI model

---

## üöÄ Getting Started

### 1. Clone the Repository

```bash
git clone https://github.com/5antUA/discord-telegram-bots-cs.git
cd discord-telegram-bot-cs/Yarik_Bot
```

### 2. Set Environment Variables
Set the required tokens and API key in your environment:

- `DISCORD_BOT_TOKEN` ‚Äî your Discord bot token
- `TELEGRAM_BOT_TOKEN` ‚Äî your Telegram bot token
- `ANTHROPIC_API_KEY` ‚Äî API key for the language model

On Linux/macOS:
```bash
export DISCORD_BOT_TOKEN=your_token_here
export TELEGRAM_BOT_TOKEN=your_token_here
export ANTHROPIC_API_KEY=your_api_key_here
```

On Windows (CMD):
```bash
setx DISCORD_BOT_TOKEN "your_token_here"
setx TELEGRAM_BOT_TOKEN "your_token_here"
setx ANTHROPIC_API_KEY "your_token_here"
```

On Windows (using GUI):  
[`Creating Working Folders and Environment Variables`](https://learn.microsoft.com/ru-ru/sql/integration-services/lesson-1-1-creating-working-folders-and-environment-variables?view=sql-server-ver16)

### 3. Running the App
Build and run the project via your preferred method (e.g., Visual Studio or CLI):
```bash
dotnet build
dotnet run
```

---

## üß† How It Works
### Trigger Conditions
Both bots will generate a response when:

- A message contains the word `Configuration.KEYWORD` (case-insensitive), or
- The user replies to the bot's message

### AI Generation
Responses are generated by SwearPromptGenerator, which takes into account:

- Message content
- Author's username or nickname
- Quoted (replied) message, if any

---

## üõ† Customization
Feel free to edit the source code to tailor the bots to your needs:

- Change the trigger keyword (`Configuration.KEYWORD`)
- Modify how prompts are structured (`Configuration.GetPrompt()`)
- Add new commands, filters, or events to Discord and Telegram bots

---

## üë®‚Äçüíª Author
**Rostyslav Kashper**  
Rust dev / Game dev  
GitHub: _[FantRS](https://github.com/FantRS)_
